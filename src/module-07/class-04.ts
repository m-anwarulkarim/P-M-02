/* 
=====================================================================
ЁЯФН instanceof ржХрзА?
=====================================================================

instanceof рж╣рж▓рзЛ ржПржХржЯрж┐ runtime check,
ржпрж╛ ржжрж┐ржпрж╝рзЗ ржЖржорж░рж╛ ржмрзБржЭрждрзЗ ржкрж╛рж░рж┐тАФ  
ЁЯСЙ ржХрзЛржирзЛ object ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж╛ class ржерзЗржХрзЗ рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ ржирж╛ред

ржЕрж░рзНржерж╛рзО:
obj instanceof ClassName тЖТ true / false рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

=====================================================================
ЁЯза ржХрзЗржи instanceof ржжрж░ржХрж╛рж░?
=====================================================================

ржпржЦржи ржПржХржЗ function-ржПрж░ ржоржзрзНржпрзЗ ржмрж┐ржнрж┐ржирзНржи ржХрзНрж▓рж╛рж╕рзЗрж░ ржЕржмржЬрзЗржХрзНржЯ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ,
рждржЦржи ржЖржорж╛ржжрзЗрж░ ржЬрж╛ржирждрзЗ рж╣ржпрж╝:
"ржПржЯрж╛ ржХрзЛржи ржХрзНрж▓рж╛рж╕рзЗрж░ ржЕржмржЬрзЗржХрзНржЯ?"

тЮб ржХрж╛рж░ржг ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗрж░ ржирж┐ржЬрж╕рзНржм property ржУ method ржерж╛ржХрзЗред

ржпржжрж┐ ржЖржорж░рж╛ ржХрзНрж▓рж╛рж╕ ржирж╛ ржжрзЗржЦрзЗ property/method ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐тАФ
тЭМ рждржЦржи error рж╣рждрзЗ ржкрж╛рж░рзЗред

instanceof ржПржЗ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рзЗред
*/

// =================================================================
// ЁЯР╢ Example Classes
// =================================================================

class Dog {
  constructor(public name: string) {}

  bark() {
    console.log(`${this.name} is barking!`);
  }
}

class Cat {
  constructor(public name: string) {}

  meow() {
    console.log(`${this.name} is meowing!`);
  }
}

// =================================================================
// ЁЯФН instanceof ржмрзНржпржмрж╣рж╛рж░
// =================================================================

function makeSound(animal: Dog | Cat) {
  /*
  ржЖржорж░рж╛ animal ржХрзЛржи ржХрзНрж▓рж╛рж╕рзЗрж░ object рждрж╛ check ржХрж░ржмрзЛ:

  тнР ржпржжрж┐ animal instanceof Dog тЖТ bark() ржХрж▓ ржХрж░ржмрзЛ  
  тнР ржпржжрж┐ animal instanceof Cat тЖТ meow() ржХрж▓ ржХрж░ржмрзЛ
  */

  if (animal instanceof Dog) {
    animal.bark(); // Dog-specific method
  } else if (animal instanceof Cat) {
    animal.meow(); // Cat-specific method
  }
}

// =================================================================
// ЁЯзк Test
// =================================================================

const dog = new Dog("Tommy");
const cat = new Cat("Kitty");

makeSound(dog); // Tommy is barking!
makeSound(cat); // Kitty is meowing!

/*
=====================================================================
ЁЯУМ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкржпрж╝рзЗржирзНржЯ
=====================================================================

тЬФ instanceof runtime-ржП ржХрж╛ржЬ ржХрж░рзЗ  
   тЖТ ржорж╛ржирзЗ object рждрзИрж░рж┐ рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржЪрзЗржХ ржХрж░рж╛ ржпрж╛ржпрж╝ред

тЬФ class-ржПрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржЪрзЗржХ ржХрж░рзЗ  
   тЖТ рждрж╛ржЗ ржПржЯрж┐ type checking ржПрж░ ржЧржнрзАрж░рждрж░ рж░рзВржкред

тЬФ union type (A | B)-ржПрж░ ржнрж┐рждрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзНрж▓рж╛рж╕ ржзрж░рждрзЗ ржжрж╛рж░рзБржи ржХрж╛рж░рзНржпржХрж░ред

тЬФ instanceof ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ wrong method call ржерзЗржХрзЗ ржирж┐рж░рж╛ржкржж ржерж╛ржХрж╛ ржпрж╛ржпрж╝ред

=====================================================================
ЁЯУж Summary (рж╕рж╣ржЬ ржХрж░рзЗ)
=====================================================================

instanceof = ржЪрзЗржХ ржХрж░рзЗ object ржХрзЛржи class ржерзЗржХрзЗ ржмрж╛ржирж╛ржирзЛред

ЁЯОп ржмрзНржпржмрж╣рж╛рж░:
- type narrowing
- class-based logic
- safe method calling
- polymorphism handling

=====================================================================
*/
